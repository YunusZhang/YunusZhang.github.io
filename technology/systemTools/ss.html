<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ss | CKL</title>
    <meta name="description" content="">
    <link rel="icon" href="/img/logo.jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.77d639ce.css" as="style"><link rel="preload" href="/assets/js/app.76659ae3.js" as="script"><link rel="preload" href="/assets/js/7.7c056201.js" as="script"><link rel="preload" href="/assets/js/36.f9a6fa95.js" as="script"><link rel="prefetch" href="/assets/js/10.0524636a.js"><link rel="prefetch" href="/assets/js/11.947c16a3.js"><link rel="prefetch" href="/assets/js/12.51c4984b.js"><link rel="prefetch" href="/assets/js/13.ec23b4a0.js"><link rel="prefetch" href="/assets/js/14.0d704076.js"><link rel="prefetch" href="/assets/js/15.114d913b.js"><link rel="prefetch" href="/assets/js/16.94731e60.js"><link rel="prefetch" href="/assets/js/17.de3739c5.js"><link rel="prefetch" href="/assets/js/18.718702c6.js"><link rel="prefetch" href="/assets/js/19.44ce7a3e.js"><link rel="prefetch" href="/assets/js/2.38932ee6.js"><link rel="prefetch" href="/assets/js/20.95f77a6e.js"><link rel="prefetch" href="/assets/js/21.adc9ee61.js"><link rel="prefetch" href="/assets/js/22.1a4d3107.js"><link rel="prefetch" href="/assets/js/23.ab28b9fb.js"><link rel="prefetch" href="/assets/js/24.f0491f8c.js"><link rel="prefetch" href="/assets/js/25.ebff061e.js"><link rel="prefetch" href="/assets/js/26.fd399e9e.js"><link rel="prefetch" href="/assets/js/27.4634fdc1.js"><link rel="prefetch" href="/assets/js/28.0d72eb05.js"><link rel="prefetch" href="/assets/js/29.e20e7f51.js"><link rel="prefetch" href="/assets/js/3.a3a27c44.js"><link rel="prefetch" href="/assets/js/30.4ef1be23.js"><link rel="prefetch" href="/assets/js/31.af729026.js"><link rel="prefetch" href="/assets/js/32.b74e43bc.js"><link rel="prefetch" href="/assets/js/33.1fc9bd38.js"><link rel="prefetch" href="/assets/js/34.4c884e92.js"><link rel="prefetch" href="/assets/js/35.69ef4130.js"><link rel="prefetch" href="/assets/js/37.d3f2b3c3.js"><link rel="prefetch" href="/assets/js/38.adb7b35e.js"><link rel="prefetch" href="/assets/js/39.ec26ba26.js"><link rel="prefetch" href="/assets/js/4.dd247e61.js"><link rel="prefetch" href="/assets/js/40.3f22cde7.js"><link rel="prefetch" href="/assets/js/41.a85c18e6.js"><link rel="prefetch" href="/assets/js/5.b42ba372.js"><link rel="prefetch" href="/assets/js/6.1a1baeca.js"><link rel="prefetch" href="/assets/js/8.43850db6.js"><link rel="prefetch" href="/assets/js/9.cb094fa1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.77d639ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpeg" alt="CKL" class="logo"> <span class="site-name can-hide">CKL</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav> <div style="display:none;">
   音乐
  <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio loop="loop"><source src="/assets/media/yui - you.e3d66957.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>ss</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/technology/systemTools/ss.html#_1-背景" class="sidebar-link">1 背景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/systemTools/ss.html#_2-准备工作" class="sidebar-link">2 准备工作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/systemTools/ss.html#_3-实现" class="sidebar-link">3 实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/technology/systemTools/ss.html#_3-1-原理" class="sidebar-link">3.1 原理</a></li><li class="sidebar-sub-header"><a href="/technology/systemTools/ss.html#_3-2-步骤" class="sidebar-link">3.2 步骤</a></li></ul></li><li><a href="/technology/systemTools/ss.html#维护" class="sidebar-link">维护:</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/systemTools/ss.html#相关链接" class="sidebar-link">相关链接</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ss架设"><a href="#ss架设" class="header-anchor">#</a> SS架设</h1> <h2 id="_1-背景"><a href="#_1-背景" class="header-anchor">#</a> 1 背景</h2> <p>我们都生活在这样一个环境里，由于各种各样的原因(这里就不赘述了)，我们处在一个被细心呵护的环境下。网络环境也是如此，防御设施通过科技手段为我们屏蔽了很多诸如网络病毒，网络诈骗以及很多不安全的网站。
但是对于很多需要查阅资料文献做科研和学习的人来说，同样也给他们获得知识的途径带来了不便。那么怎样才能安全科学地学习和查阅文献资料呢?这是其一。</p> <p>其二，既然我们获取了一些知识，我们希望把这些知识记录和分享，一般来说，记录和分享应该分开来说。记录的话，在本地的存储空间就行了;分享的话，可以通过各种平台，工具在社交媒体上分享(一对多)。
那么有没有一些方法可以把知识记录在一个地方，便于你自己的更新和管理，然后大家可以访问和获取这些知识?(中心化)</p> <h2 id="_2-准备工作"><a href="#_2-准备工作" class="header-anchor">#</a> 2 准备工作</h2> <p>需要了解的知识</p> <p>1，网络通信的相关知识</p> <p>2，Linux操作系统的相关知识</p> <p>3，软件安装相关知识</p> <p>4，shadowsocks相关知识</p> <div class="language- extra-class"><pre class="language-text"><code>来自网络
以前我们翻墙的时候最常用的就是vpn了，而2年前，ss被开源(ss出现一年后，开源社区的 破娃小姐姐在ss的基础上发布了ssr)，现在已经是最流行的翻墙方案。
下面我从三个部分做一个介绍:
什么是vpn
什么是ss/ssr
直连模式、PAC模式、全局模式
客户端的选用
vpn和ss/ssr的区别和优缺点 为什么同步洋葱客户端的时候，vpn可以，而单独使用ss/ssr就不行
一、什么是vpn vpn在很多人心目中就是用来翻墙的工具，其实不是。vpn最主要的功能，并不是用来翻 墙，只是它可以达到翻墙的目的。vpn--虚拟专用网络，它的功能是:在公用网络上建立专 用网络，进行加密通讯。在企业网络和高校的网络中应用很广泛。你接入vpn，其实就是 接入了一个专有网络，你的网络访问都从这个出口出去，你和vpn之间的通信是否加密， 取决于你连接vpn的方式或者协议。
二、什么是ss/ssr
ss:ss作者是clowwindy，大约两年前，他自己为了翻墙写了shadowsocks，简称ss或者叫影 梭，后来他觉得这个东西非常好用，速度快，而且不会被封锁，他就把源码共享在了 github上，然后就火了，但是后来作者被请去喝茶，删了代码，并且保证不再参与维护更 新。现在这个好像是一个国外的大兄弟在维护。
ssr:在ss作者被喝茶之后，github上出现了一个叫breakwa11(破娃)的帐号，声称ss容易被 防火墙检测到，所以在混淆和协议方面做了改进，更加不容易被检测到，而且兼容ss，改 进后的项目叫shadowsocks-R，简称ssr，然后ss用户和ssr用户自然分成了两个派别，互相撕 逼，直到前阵子，破娃被人肉出来，无奈之下删除了ssr的代码，并且解散了所有相关群 组。
ss和ssr它的原理都是一样的，就是socks5代理，。socks代理只是简单的传递数据包，而不 必关心是何种协议，所以socks代理比其他应用层代理要快的多。socks5代理是把你的网络 数据请求通过一条连接你和代理服务器之间的通道，由服务器转发到目的地，这个过程中 你是没有通过一条专用通道的，只是数据包的发出，然后被代理服务器收到，整个过程并 没有额外的处理。通俗的说，现在你有一个代理服务器在香港，比如你现在想要访问 google，你的电脑发出请求，流量通过socks5连接发到你在香港的服务器上，然后再由你 在香港的服务器去访问google，再把访问结果传回你的电脑，这样就实现了翻墙。 直连模式就是流量不走代理 ，PAC模式简单说就是国内地址不走代理，国外走代理，全局 模式就是不管国内国外，所有流量通过代理服务器访问 下载ss或者ssr客户端推荐去github或者https://shadowsocks.org/en/index.html这里去下载， 或者在你购买ss/ssr服务商的网站下载
三、vpn和ss/ssr的区别和优缺点 通过上面的介绍，其实基本已经能看出vpn和ss/ssr的区别了，那么他们到底孰优孰劣。
因为vpn是走的专用通道，它是用来给企业传输加密数据用的，所以vpn的流量特征很明 显，以openvpn为例，更详细的在这里不说了，流量特征明显，防火墙直接分析你的流 量，如果特征匹配，直接封掉。目前就翻墙来说，PPTP类型的vpn基本死的差不多了， L2TP大部分地区干扰严重很不稳定。
ss/ssr的目的就是用来翻墙的，而vpn的目的是用来加密企业数据的，对于vpn来说安全是第 一位的，而对于ss/ssr来说穿透防火墙是第一位，抗干扰性强，而且对流量做了混淆，所有 流量在通过防火墙的时候，基本上都被识别为普通流量，也就是说你翻墙了，但是政府是 检测不到你在翻墙的。两者的出发点和着重点就不同，ss/ssr更注重流量的混淆加密。如果 要安全匿名上网，可以用vpn+tor或者ss/ssr+tor。
而安全性方面还要补充的一点就是，国内vpn服务商，政府是很容易拿到他们的服务器日 志的，如果他们真的这样做了，你翻墙做了什么，一览无余
四、为什么同步洋葱客户端的时候，vpn可以，而单独使用ss/ssr就不行 通过了上面的介绍，这一点就更好解释了，因为vpn走的是专用通道，ss/ssr只是转发流 量，也就是说，当你使用vpn同步客户端的时候，流量是在整个vpn通道中的，而ss/ssr只是 将你的流量转发到了代理服务器。但是为什么ss/ssr配合Proxifier可以就又可以了呢，因为 Proxifier这款软件，可以配置你的某些程序或者某些流量全部走socks5，所以两者配合，达 到了同步客户端的目的。
总结一下: 就翻墙来说，推荐大家使用ss/ssr，ss/ssr的成本是非常低的，低至一年25块钱(也许还有 更低的只是我没发现?)，vpn的价格，用过的都知道。 而且就翻墙效果来说大部分地区ss/ssr是比vpn好的。
</code></pre></div><p>以上的内容来自网络，在我再次编辑的时候，csdn上的内容已经被墙了。简单来说， ss/ssr的目的就是用来翻墙的，而vpn的目的是用来加密企业数据的。</p> <p>知道了这些知识后，其实我们就可以开始搭建ss了。我这里选用的是搭建ss，之后有时间 的话，会升级为SSR，SSR在改进了混淆和协议，更难被防火墙检测到</p> <h2 id="_3-实现"><a href="#_3-实现" class="header-anchor">#</a> 3 实现</h2> <h3 id="_3-1-原理"><a href="#_3-1-原理" class="header-anchor">#</a> 3.1 原理</h3> <p>其实就是利用国外的虚拟主机搭建服务器,在服务器上架自己的梯子。 通俗一点就是，现在你在院子里，你知道外面有很多寂寞的小姐姐，然后你想用电话亭子 打电话和她们聊天，在没有这个围墙的情况下，你就能在你家里的电话亭子打电话给她 们;但是因为这个围墙的存在，你在院子里不能直接打电话给她们。但是你可以租一台围 墙外面的电话亭子，这还没完，你还需要一个工具连接到这个租的电话亭子上，那么这个 工具就是shadowsocks</p> <h3 id="_3-2-步骤"><a href="#_3-2-步骤" class="header-anchor">#</a> 3.2 步骤</h3> <p>第一步:租一个围墙外的电话亭子</p> <p>首先得需要一个VPS;</p> <p>免费的有亚麻讯，付费的有搬瓦工，我去 亚马逊提供的在线虚拟主机服务。现在AWS提供的基础服务免费一年，流量每月15G，只 要你不是天天上网下大文件的话，一般不会超。 之所以选择AWS，首先是因为它比较(bu)稳(yao)定(qian)，并且它有东京的节 点。网上很多其他主机商的节点都远在美国，距离近延迟低是铁律。 网上也有香港的主机商，但是我并没有找到免费的。 不推荐其他免费的主机商，(传说)服务很烂而且用到最后往往并不免费。 毕竟Amazon的牌子比较靠谱。
这里我用的是Vultr，经过对比Vultr的性价比很高:速度、价格(最便宜的2.5刀)、流量 都很不错，如果只用来部署Shadowsocks搓搓有余，还能额外建个小网站。而且可以用 支付宝来支付。
首先进入官网注册， 充值，充值的时候注意一下可以使用支付宝和微信支付。但是有些时候可能支付宝支付时 候页面打不开，这时候就需要检查下你的网络DNS是不是被绑架了。最少冲10美元。 添加服务器， 注意:一般选择东京的服务器，2.5美元只能是ipv6了，所以选3.5美元或者5美元吧。也 可以选新加坡的(我第一次就选择了日本的，结果死活进不去，用终端获取服务器权限的 时候老是超时，估计是被墙了，有待验证)。
系统，系统的话ubuntu和centOS都可以， 记住最好选择最新的版本，不然可能有些操作 会报错，前提是你要熟悉相应的Linux基本操作(我也是正在学习中)。 关于系统这里要解释一下(以下针对小白)。这个系统指的是你想要给服务器安装什么样 的系统，并不是说把这个系统安装在你面前的电脑上。服务器系统基本上都是Linux的， 也有windows的，所以学好linux是多么重要，你懂的。那么接下来就有个问题了，我怎 么才能把系统装到服务器上? 给电脑装系统相信大家都知道怎么装，无非就是u盘启动项，pe环境装。给服务器装系统 怎么办呢，服务器又不在你面前。这里需要了解一个知识，远程控制，mac下又叫远程登 录(共享下)。就是说利用你这面前的这台机器远程控制你的服务器(不知道手机，其他 设备能不能控制，有待验证)。怎么远程控制呢? 这里需要使用一些工具，windows可以使用putty这个管理软件，网上有很多教程。Linux 和Mac os这类的自带终端的系统还是很方便滴。我这里介绍的是使用mac自带的终端。 —— 接下来是选择价格，我这边5刀的，选完直接点右下角的购买就可以了，其他选项可以不 管。Vultr购买完不会马上扣你钱，它是按小时收费的，用多久收多少，不用可以直接停 掉
服务器购买完成后，等几分钟，等创建好之后点进去看详情，记住IP地址、用户名和密码 (一定要记得保存好哦)。</p> <p>第二步:给你的电话亭子捯饬捯饬</p> <p>配置服务器</p> <p>调试</p> <p>windows可以使用putty这个管理软件，网上有很多教程，我就不介绍了。Linux和Mac os 这类的自带终端的系统还是很方便滴。我这里介绍的是使用mac自带的终端。 这里会出现一些命令行操作，建议先熟悉一下Linux基本操作。</p> <p>点开终端Terminal 首先你要打开SSH</p> <p>MAC 是自带SSH的，可以使用whereis查看是否存在，在终端执行下面的命令: $ whereis ssh</p> <p>执行完后会打印存在路径</p> <p>之后查看现有进程，执行下列命令:</p> <p>$ ps aux | grep ssh</p> <p>执行完后会打印现有进程，但是你会发现找不到ssh对应的进程 下列为我的终端执行命令后的结果</p> <p>$ ps aux | grep ssh</p> <p>mac 2253 0.0 0.0 2432804 1972 s007 S+ 2:51下午 0:00.00 grep ssh</p> <p>这时候如果直接使用SSH命令连接本地主机或者远程主机会遇到下列错误: ssh: connect to host localhost port 22: Connection refused</p> <p>解决方法:打开系统偏好设置——共享——远程登录</p> <p>之后使用ssh localhost来测试一下，如果提示输入密码来认证就没问题了。 之后再grep一下进程就可以看到ssh进程在运行了:</p> <p>ps aux | grep ssh mac 896 0.0 0.1 2437724 7648 ?? S 9:36上午 0:00.03 /usr/bin/ssh-agent -l mac 1759 0.0 0.0 2432804 1972 s000 S+ 2:00下午
0:00.00 grep ssh</p> <p>可以通过ssh命令连接其他主机，例如:</p> <p>ssh username@192.168.100.100</p> <p>也可以通过ssh命令连接其他服务器，例如:ssh -p 端口 用户名@服务器ip地址</p> <p>(我之前就是用这个方法死活登不上服务器，打开了远程登录，使用了各种方法就是登不上，这时候你可以考虑换个服务器了)</p> <p>好了没问题了，现在可以连接服务器了</p> <p>输入ssh -p 22 root@101.200.86.233 它会提示你输入密码,输入正确的密码之后,你就发 现已经登陆成功了.(22: 端口号 root: 用户名) 也可以用图形界面GUI登录需要输入的信息就是你的服务器IP，用户名。</p> <p>骚操作</p> <p>取得服务器管理员权限之后光标就会改为~# 接下来你就可以开始你的骚操作啦!!!</p> <p>首先是 安装pip和几个依赖包(几个依赖包还是必须的，不然的话会报错的)，安装过程遇到Y/n 的一律输入Y(按顺序执行下面命令):</p> <div class="language- extra-class"><pre class="language-text"><code>apt-get install python-pip python-gevent python-m2crypto
pip install --upgrade setuptools
</code></pre></div><p>然后是 安装shadowsocks</p> <div class="language- extra-class"><pre class="language-text"><code>pip install shadowsocks
</code></pre></div><p>出现Successfully installed shadowsocks-XXX说明安装成功了</p> <p>接着是 按顺序执行下面命令，在/etc目录下新建文件夹“shadowsocks”,然后在shadowsocks 文件夹下新建文件“config.json”:</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir /etc/shadowsocks
vim /etc/shadowsocks/config.json
</code></pre></div><p>输入完上面命令之后出现的页面，就相当于Windows中的记事本。最下一行提示我们当 前这个文件是新建的。这个config.json就相当于配置文件，json是一种轻量级的数据交换 格式，易于阅读和编写，同时也易于机器解析和生成。在这个文件中可以写入服务器，端 口，密码等基本信息。</p> <p>在这个视图中有如下几个按键需要记住</p> <div class="language- extra-class"><pre class="language-text"><code>“i”:按键盘上的i键，窗口最底下显
“insert”，表示当前文件可编辑。
“Esc”:编辑完之后按Esc退出编辑模式。
“:”:半角的冒号，在非编辑模式下按键盘上的冒号(半角)，可以进入输入命令 的模式。
“w”:在命令模式中输入w并回车，窗口最下显示“written”，表示所做的更改已保 存。
“q”:在命令模式中输入q并回车，可以退出当前的编辑器。 
</code></pre></div><p>config.json的内容如下:</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;server&quot;:&quot;0.0.0.0&quot;,
    &quot;server_port&quot;:8888,
    &quot;password&quot;:&quot;your_password&quot;,
    &quot;timeout&quot;:600,
    &quot;method&quot;:&quot;aes-256-cfb&quot;,
    &quot;fast_open&quot;: false
}
</code></pre></div><p>&quot;server&quot;:是你Vultr服务器的ip地址 &quot;server_port&quot;和&quot;password&quot;可以根据自己的要求设定</p> <p>如果需要同时开多个端口，config.json的内容可以设置如下:</p> <div class="language- extra-class"><pre class="language-text"><code> {
    &quot;server&quot;:&quot;0.0.0.0&quot;,
    &quot;port_password&quot;: {
        &quot;8888&quot;: &quot;your_password1&quot;,
        &quot;8889&quot;: &quot;your_password2&quot;
    },
    &quot;timeout&quot;:600,
    &quot;method&quot;:&quot;aes-256-cfb&quot;,
    &quot;fast_open&quot;: false
}
</code></pre></div><p>这里有几个需要注意的地方</p> <p>1，注意标点符号引号都为半角，不能多不能少</p> <p>2，只需要改端口和密码其他都不变</p> <p>3，端口我习惯改成8848，和11383，这个数字不能随便乱写的，具体可以百度</p> <p>4，写入保存退出都要注意，不然的话会报错的</p> <p>执行以下命令启动Shadowsocks:</p> <div class="language- extra-class"><pre class="language-text"><code>ssserver -c /etc/shadowsocks/config.json -d start

</code></pre></div><p>停止Shadowsocks执行如下命令:</p> <div class="language- extra-class"><pre class="language-text"><code>ssserver -c /etc/shadowsocks/config.json -d stop
</code></pre></div><p>由于Ubuntu18.04中openssl升级到1.1.0版本了，所以启动Shadowsocks的时候应该会 报undefined symbol: EVP_CIPHER_CTX_cleanup错误，下面就教大家解决这个错误。 没有的话请忽略该步骤:</p> <p>(1)vim打开文件openssl.py,我这边python的版本是2.7，其他版本的请修改至对应 路径:</p> <div class="language- extra-class"><pre class="language-text"><code>vim /usr/local/lib/python2.7/dist-
packages/shadowsocks/crypto/openssl.py
</code></pre></div><p>(2)替换文中libcrypto.EVP_CIPHER_CTX_cleanup.argtypes 为 libcrypto.EVP_CIPHER_CTX_reset.argtypes 共两处，并保存</p> <p>(3)重新运行shadowsocks应该就可以了:</p> <div class="language- extra-class"><pre class="language-text"><code>ssserver -c /etc/shadowsocks/config.json -d start
</code></pre></div><p>设置Shadowsocks开机自启动 执行下面的命令，创建shadowsocks.servic文件:</p> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/systemd/system/shadowsocks.service
</code></pre></div><p>shadowsocks.service的内容如下:</p> <div class="language- extra-class"><pre class="language-text"><code>[Unit]
Description=Shadowsocks
After=network.target
[Service]
Type=forking
PIDFile=/run/shadowsocks/server.pid
PermissionsStartOnly=true
ExecStartPre=/bin/mkdir -p /run/shadowsocks
ExecStartPre=/bin/chown root:root /run/shadowsocks
ExecStart=/usr/local/bin/ssserver --pid-file
/var/run/shadowsocks/server.pid -c /etc/shadowsocks/config.json -d
start
Restart=on-abort
User=root
Group=root
UMask=0027
[Install]
WantedBy=multi-user.target

</code></pre></div><p>设置文件权限:</p> <p>chmod 755 /etc/systemd/system/shadowsocks.service</p> <p>启动服务:</p> <p>systemctl start shadowsocks</p> <p>systemctl enable shadowsocks</p> <p>第三步:你家院子里得搞个开关吧</p> <p>配置客户端</p> <p>好了，到此，你的梯子已经搭好了，你现在只要去下载shadowsocks的客户端填上 Config.json中的ip地址、端口号、以及密码就可以了。</p> <p>大家如果有遇到问题可以关注本博客其他文章，以后会持续更新</p> <p>第四步:其他</p> <p>客户端记得启动系统代理，pac模式是被墙的走代理，不被墙的直接访问</p> <p>全局模式是都走代理</p> <p>不定期地点击更新pac</p> <p>最好关掉一些比如谷歌浏览器访问助手之类的插件</p> <p>手机端的话之后有时间再搞</p> <p>记得ping一下服务器延迟啊，我之前东京的延迟有200多，新加坡的反而只有100 多</p> <h2 id="维护"><a href="#维护" class="header-anchor">#</a> 维护:</h2> <p>重启服务 ssserver -c /etc/shadowsocks.json -d start</p> <h2 id="相关链接"><a href="#相关链接" class="header-anchor">#</a> 相关链接</h2> <p>Putty 下载地址:</p> <p>Windows:https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</p> <p>MAC:https://putty-for-mac.soft32.com/</p> <p>shadowsocks客户端下载地址:</p> <p>https://github.com/shadowsocks/shadowsocks-windows/releases</p> <p>Mac OS X</p> <p>https://github.com/shadowsocks/ShadowsocksX-NG/releases</p> <p>linux</p> <p>https://github.com/shadowsocks/shadowsocks-qt5/wiki/Installation</p> <p>https://github.com/shadowsocks/shadowsocks-qt5/releases</p> <p>iOS</p> <p>https://itunes.apple.com/app/apple-store/id1070901416?pt=2305194&amp;ct=shadowsocks.org&amp;mt=8</p> <p>https://github.com/shadowsocks/shadowsocks-iOS/releases</p> <p>https://play.google.com/store/apps/details?id=com.github.shadowsocks</p> <p>https://github.com/shadowsocks/shadowsocks-android/releases</p> <p>版权声明:本文内容由作者原创，版权归作者所有，本社区不拥有所有权，也不承担相关
法律责任。如果您发现本社区中有涉嫌抄袭的内容，欢迎进行举报，并提供相关证据，一
经查实，本社区将立刻删除涉嫌侵权内容。本文由作者本人参考了网上相关经验，并结合
了自己遇到的实际问题重新创作，未经作者许可不得转载。</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.76659ae3.js" defer></script><script src="/assets/js/7.7c056201.js" defer></script><script src="/assets/js/36.f9a6fa95.js" defer></script>
  </body>
</html>
