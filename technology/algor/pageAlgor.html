<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>佩奇算法 | CKL</title>
    <meta name="description" content="">
    <link rel="icon" href="/img/logo.jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.77d639ce.css" as="style"><link rel="preload" href="/assets/js/app.76659ae3.js" as="script"><link rel="preload" href="/assets/js/7.7c056201.js" as="script"><link rel="preload" href="/assets/js/19.44ce7a3e.js" as="script"><link rel="prefetch" href="/assets/js/10.0524636a.js"><link rel="prefetch" href="/assets/js/11.947c16a3.js"><link rel="prefetch" href="/assets/js/12.51c4984b.js"><link rel="prefetch" href="/assets/js/13.ec23b4a0.js"><link rel="prefetch" href="/assets/js/14.0d704076.js"><link rel="prefetch" href="/assets/js/15.114d913b.js"><link rel="prefetch" href="/assets/js/16.94731e60.js"><link rel="prefetch" href="/assets/js/17.de3739c5.js"><link rel="prefetch" href="/assets/js/18.718702c6.js"><link rel="prefetch" href="/assets/js/2.38932ee6.js"><link rel="prefetch" href="/assets/js/20.95f77a6e.js"><link rel="prefetch" href="/assets/js/21.adc9ee61.js"><link rel="prefetch" href="/assets/js/22.1a4d3107.js"><link rel="prefetch" href="/assets/js/23.ab28b9fb.js"><link rel="prefetch" href="/assets/js/24.f0491f8c.js"><link rel="prefetch" href="/assets/js/25.ebff061e.js"><link rel="prefetch" href="/assets/js/26.fd399e9e.js"><link rel="prefetch" href="/assets/js/27.4634fdc1.js"><link rel="prefetch" href="/assets/js/28.0d72eb05.js"><link rel="prefetch" href="/assets/js/29.e20e7f51.js"><link rel="prefetch" href="/assets/js/3.a3a27c44.js"><link rel="prefetch" href="/assets/js/30.4ef1be23.js"><link rel="prefetch" href="/assets/js/31.af729026.js"><link rel="prefetch" href="/assets/js/32.b74e43bc.js"><link rel="prefetch" href="/assets/js/33.1fc9bd38.js"><link rel="prefetch" href="/assets/js/34.4c884e92.js"><link rel="prefetch" href="/assets/js/35.69ef4130.js"><link rel="prefetch" href="/assets/js/36.f9a6fa95.js"><link rel="prefetch" href="/assets/js/37.d3f2b3c3.js"><link rel="prefetch" href="/assets/js/38.adb7b35e.js"><link rel="prefetch" href="/assets/js/39.ec26ba26.js"><link rel="prefetch" href="/assets/js/4.dd247e61.js"><link rel="prefetch" href="/assets/js/40.3f22cde7.js"><link rel="prefetch" href="/assets/js/41.a85c18e6.js"><link rel="prefetch" href="/assets/js/5.b42ba372.js"><link rel="prefetch" href="/assets/js/6.1a1baeca.js"><link rel="prefetch" href="/assets/js/8.43850db6.js"><link rel="prefetch" href="/assets/js/9.cb094fa1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.77d639ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpeg" alt="CKL" class="logo"> <span class="site-name can-hide">CKL</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav> <div style="display:none;">
   音乐
  <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio loop="loop"><source src="/assets/media/yui - you.e3d66957.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/ponder/" class="nav-link">思考</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>佩奇算法</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/technology/algor/pageAlgor.html#_1-简介" class="sidebar-link">1 简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/algor/pageAlgor.html#_2-基本思想" class="sidebar-link">2 基本思想</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/algor/pageAlgor.html#_3-pagerank的简单计算" class="sidebar-link">3 PageRank的简单计算</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/algor/pageAlgor.html#_4-简易版本" class="sidebar-link">4 简易版本</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/technology/algor/pageAlgor.html#_5-pagerank的修正公式" class="sidebar-link">5 PageRank的修正公式</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="佩奇算法"><a href="#佩奇算法" class="header-anchor">#</a> 佩奇算法</h1> <h2 id="_1-简介"><a href="#_1-简介" class="header-anchor">#</a> 1 简介</h2> <p>在信息检索的学术界有两个衡量搜索质量好坏的客观标准，即查全率recall，和查准率
precision。Alta vista 相比早期的搜索引擎，解决了覆盖率（查全率）的问题，但是在查准
率上还没有什么突破。</p> <p>整个互联网就像一张大的图（graph），每个网站就像一个节点，而每个网页的链接就像
一个弧。互联网可以用一个图或者矩阵描述。</p> <div class="language- extra-class"><pre class="language-text"><code>.jpg
</code></pre></div><p>PageRank的卡通概念图，图中笑脸的大小与指向该笑脸的其他笑脸的数目成正比.</p> <p>PageRank算法通过输出概率分布来体现某人随机地点击某个链接的概率。PageRank值
（PR）可以在任何规模的文件（document）集合中计算得出，而每个链接都指向该集合
中的某个特定文件。相关研究论文指出，在初次计算前，总概率将被均分到每个文件上，
使得集合中的每个文件被访问的概率都是相同的。接下来在重复多次的计算（又称为“迭
代”）中，算法将根据集合的实际情况不断调整PR值，使得其越来越接近最真实的理论
值。</p> <p>最终的概率将通过一个在0与1之间的数值体现。概率为0.5通常意味着该事件有50%的可
能性发生。因此，“PR=0.5”代表“有50%的可能性，某人点击了一个随机的链接并访
问了该链接指向的文件”。</p> <p>谷歌将融合title标识，keywords关键字标识等因素的pagerank结果来调整搜索结果，使得
更加重要，等级更高的网站呈现在搜索结果中，从而提高搜索结果的相关度和质
量。pagerank的结果从0-10，10级为满分。PR值越高说明网页越重要，越受欢迎。例如
PR值为1，说明网站不太重要；而PR为7-10的网站可以说是非常重要了。一般为4的网站
可以说不错了。谷歌自身定为10。</p> <h2 id="_2-基本思想"><a href="#_2-基本思想" class="header-anchor">#</a> 2 基本思想</h2> <p>即对于某个网页A而言，该网页PageRank值的计算基于以下两个假设：</p> <p>1：数量假设，如果越多的网页指向A，即A的入链数量越多，则该网页越重要；</p> <p>2：质量假设，如果指向A的网页质量越高，则A越重要，即权重因素不同。</p> <p>现实中一个具体的假设案例是：一篇论文被诺贝尔奖得主所引用， 显然要比被普通研究者
所引用更说明其价值；一篇论文被100位学者引用，显然要比只有一位普通学者引用之更
有价值。</p> <p>初始阶段，网页通过链接关系构建起Web图，每个页面设置相同的PageRank值(原因在稍
后阐述)，通过若干轮的计算，会得到每个页面所获得的最终PageRank值。随着每一轮的
计算进行，网页当前的PageRank值会不断得到更新。</p> <p>在每一轮更新页面PageRank得分的计算中，每个页面将其当前的PageRank值平均分配
到本页面包含的出链上，这样每个链接即获得了相应的权值。而每个页面将所有指向本页
面的入链所传入的权值求和，即可得到新的PageRank得分。当每个页面都获得了更新后
的PageRank值，就完成了一轮PageRank计算。</p> <p>用公式来表示，若网页T存在一个指向网页A的链接，则表明T的所有者认为A是重要的，
从而把T的一部分重要性得分赋予A。</p> <p>这个重要性得分值为：PR（T）/C(T) ，其中PR（T）为T的PageRank值，C(T)为T的出
链数。</p> <p>对于A而言，A的PageRank值为一系列类似于T的页面重要性得分总和。一个页面的
PageRank是由所有链向它的页面（链入页面）的重要性经过递归算法得到的。</p> <h2 id="_3-pagerank的简单计算"><a href="#_3-pagerank的简单计算" class="header-anchor">#</a> 3 PageRank的简单计算</h2> <div class="language- extra-class"><pre class="language-text"><code>.jpg
</code></pre></div><h2 id="_4-简易版本"><a href="#_4-简易版本" class="header-anchor">#</a> 4 简易版本</h2> <p>假设一个由4个网页组成的集合： A ， B ， C 和 D 。如果所有页面都只链接至 A ，那么
A 的 PR （PageRank）值将是 B ， C 及 D 的PR值之和，即：</p> <p>$$PR(A)=PR(B)+PR(C)+PR(D)$$</p> <p>重新假设 B 链接到 AC ， C 链接到 A ，并且 D 链接到 A B C 。最初一个页面总共只有
一票。所以 B 给 AC 每个页面半票。以此类推， D 投出的票只有三分之一加到了 A 的PR
值上：
$$PR(A)={PR(B)\over 2}+{PR(C)\over 1}+{PR(D)\over 3}$$</p> <p>换句话说，算法将根据每个页面连出总数平分该页面的 PR 值，并将其加到其所指向的页
面：</p> <p>$$PR(A)={PR(B)\over L(B)}+{PR(C)\over L(C)}+{PR(D)\over L(D)}$$</p> <p>最后，所有这些PR值被换算成一个百分比再乘上一个修正系数 d
。由于“没有向外链接的网页”传递出去的PR值会是0，而这会递归地导致指向它的页面
的PR值的计算结果同样为零，所以赋给了每个页面一个最小值（1-d）/N：</p> <p>$$PR(A)=({PR(B)\over L(B)}+{PR(C)\over L(C)}+{PR(D)\over L(D)}+{···})d+{(1-d)\over N}$$</p> <p>需要注意的是，在Sergey Brin和Lawrence Page的1998年原版论文中给每一个页面设定
的最小值是1-d，而不是（1-d）/N</p> <p>所以一个页面的PR值直接取决于指向它的的页面。如果在最初给每个网页一个随机且非零
的PR值，经过重复计算，这些页面的PR值会趋向于某个定值，也就是处于收敛的状态，
即最终结果。这就是搜索引擎使用该算法的原因。</p> <h2 id="_5-pagerank的修正公式"><a href="#_5-pagerank的修正公式" class="header-anchor">#</a> 5 PageRank的修正公式</h2> <p>现实网络中，由于存在出链度数为0，即不链接到任何网页的页面，但是很多网页可以访
问它。鉴于这类情况，PageRank公式需要进行修正，修正的方法是，在简单公式的基础
上增加阻尼系数d(damping factor):</p> <p>$$PR(A)={(1-d)}+d*{\sum_{i=1}^m}{PR(Ti)\over C(Ti)}$$</p> <p>该公式是计算网页A的PR值公式。Ti是存在到A的链接的网页。C(Ti)是网页Ti中存在的链
接的数量。d是阻尼系数，一般定义为用户随机点击链接的概率，根据工程经验一般取
0.85。而(1-d)代表着不考虑入站链接的情况下随机进入一个页面的概率。
还有一种修正方式与第一种相似，公式如下：</p> <p>$$PageRank(pi)={(1-q)\over N}+q{\sum_{pj}}{PageRank(pi)\over L(pj)}$$</p> <p>其中p(i)是第i个页面，N是页面总数，q是阻尼系数，(1-q)代表着不考虑入站链接的情况
下随机进入一个页面的概率，L(pi)是Pi链出页面的数量。所有页面的PageRank值可以组
成一个特征向f量，这个特征向量矩阵为：</p> <p>$$R=\begin{bmatrix}PageRank(p1) \ PageRank(p2)\ ··· \ PageRank(pN) \end{bmatrix}$$</p> <p>R是如下矩阵方程式的一个解：</p> <p>$$R=\begin{bmatrix}(1-q)\over N \ (1-q)\over N\ ··· \ (1-q)\over N \end{bmatrix}+q{\begin{bmatrix} l(p1,p1) &amp; l(p1,p2) &amp; ··· &amp; l(p1,pn)\ l(p2,p1) &amp; ··· &amp;  &amp; l(p2,pn) \ ··· &amp;  &amp; l(pi,pj)&amp;  \  l(pN,p1) &amp;  &amp;  &amp; l(pN,pN) \end{bmatrix}}R$$</p> <p>其中 L(Pi,Pj) 表示网页 j 指向网页 i 的链路权重，并且若网页i存在指向网页j的一个链接，
则</p> <p>$${\sum_{j=1}^N}l(pi,pj)=1$$</p> <p>在此处键入公式。</p> <p>否则，L(Pi,Pj) = 0.</p> <p>关于R矩阵方程式的含义，按照矩阵相乘规则，实际上是所有网页节点的方程式聚合组：
以第一行为例，分拆开来实际上是：</p> <p>PR(P1) = (1-q)/N + a*(L(p1,p1)*PR(P1) + L(p1,p2)*PR(P2) + ... + L(p1,pn)*PR(Pn) )
其余行数以此类推。遂构成上述矩阵方程式。</p> <p>到现在为止，我们把PageRank的计算方式和原理都阐述了，但是仍然有一个问题：先有
鸡还是先有蛋？我们要知道一个网页 Wi的排序， 不仅要知道有多少网页链接了它， 而且
还得知道那些网页各自的排序——因为来自排序靠前网页的链接更有分量。 而但作为互
联网大家庭的一员， Wi本身对其它网页的排序也是有贡献的， 而且基于来自排序靠前网
页的链接更有分量的原则， 这种贡献与 Wi本身的排序也有关。简而言之，链接到Wi的网
页们影响了Wi的重要性排名，而Wi也有可能反向影响其余网页的排名，想要知道其余网
页的排名，那么首先又要知道Wi的排名。这就是先有鸡还是先有蛋的意思。
为了打破这个死循环，佩奇和布林采用了一个奇妙的思路，分析一个虚拟用户在互联网的
漫游过程。他们做了这样的假定：该虚拟用户访问了一个网页后，下一步将有相同的几率
访问被该网页链接的任何一个其他网页。初看之下这一假设不合情理，用户都会存在自己
的偏好，不可能以相同几率访问一个网页所有链接。但是在PageRank中，考虑到我们这
一虚拟用户实际上是对所有互联网漫游者所做的平均意义上的代表，这样一来这条假设就
不像初看之下那么不合理了。实际上就也是PR（T）/C(T) 的来源。最终的网页排序，则
由用户在网络上漫游了很长时间---理论上是无限时间后---访问各网页的几率分布来决
定，访问几率越大的网页排序则越靠前。(细心的读者可以发现，在该核心思想下，网页
排序与搜索关键词并无关系！这意味着排序计算可以单独进行，而无需在用户输入
keywords后再临时进行，这是Google搜索速度迅即的重要原因！)</p> <p>所以综上，一个页面的PageRank值是由其他页面的PR值计算得到的。Google不断的重
复计算每个页面的PR值。给每个页面一个初始的非零随机PR值，那么经过不断地迭代计
算，最终每个页面的PR值将趋于稳定。这是PageRank的奇妙所在以及为何搜索引擎使用它的原因。</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.76659ae3.js" defer></script><script src="/assets/js/7.7c056201.js" defer></script><script src="/assets/js/19.44ce7a3e.js" defer></script>
  </body>
</html>
